<% title = "Main" %>

<head>
	<link rel="stylesheet" href="/public/css/forum_main.css">
</head>

<div class="sidebox" id="left_sidebox">
</div>

<div class="box">

	<div class="endbox">
		<h2>공지사항</h2>
		<div style="margin: 10px;">
			<br>
			<br><b>
			<div>본 웹사이트 "MyPage"는 학습 목적의 웹 커뮤니티로 개발되었습니다.</div>
			<div>현재 운영을 통한 수익 창출은 없으며, 회원가입 없이 테스트용 계정을 제공합니다.</div>
			<div>따라서 개별적인 개인정보를 수집하거나 저장하지 않습니다.</div>
			<br>
			<div>다만, 웹사이트의 보안 및 성능 모니터링을 위해 IP 주소, 접속 시간 등 방문 기록이 일정 기간 저장될 수 있습니다.</div>
			<br></b>
		</div>
	</div>
	<div class="endbox">
		<a href="/popular"><h2>인기</h2></a>
		<% if (Popular.length) { %>
		<ul>
			<% Popular.forEach( popular => {%>
			<li>
				<div class="main_contents_list_box">
					<div><a class="user_href" href="/user/<%= popular.user_id %>"><%= popular.nickname %></a><span><b>&nbsp;·&nbsp;</b></span><%= popular.create_at %></div>
					<div class="list_title_box">
						<div><a href="/<%=popular.content_type %>/<%= popular.id %>?pagetype=popular"><%= popular.title %></a></div>
						<div class="post_list_info">  
							<img src="public/img/comment-icon.png" width="13px" style="object-fit:contain;">&nbsp;<%= popular.comment_count ? popular.comment_count : 0 %>
							&nbsp;<span><b>·</b></span>&nbsp;
							<img src="public/img/eye-icon.png" width="13px" style="object-fit:contain;">&nbsp;<%= popular.view_count %>
						</div>
					</div>
				</div>
			</li>
			<% }); %>
		</ul>
		<% } else { %>
			<span> 게시글이 존재하지 않습니다. </span>
		<% } %>
	</div>	

	<div class="endbox">
		<a href="/info"><h2>정보</h2></a>
		<% const Info_Contents = Contents.filter( content => content.content_type === 'info' ) %>
		<% if ( Info_Contents.length){%>
		<ul>
			<% Info_Contents.forEach( content => { %>
				<li>
					<div class="main_contents_list_box">
						<div><a class="user_href" href="/user/<%= content.user_id %>"><%= content.nickname %></a><span><b>&nbsp;·&nbsp;</b></span><%= content.create_at %></div>
						<div class="list_title_box">
							<div><a href="/<%= content.content_type%>/<%= content.id%>?pagetype=info"><%= content.title %></a></div>
							<div class="post_list_info">  
								<img src="public/img/comment-icon.png" width="13px" style="object-fit:contain;">&nbsp;<%= content.comment_count ? content.comment_count : 0 %>
								&nbsp;<span><b>·</b></span>&nbsp;
								<img src="public/img/eye-icon.png" width="13px" style="object-fit:contain;">&nbsp;<%= content.view_count %>
							</div>
						</div>
					</div>
				</li>
			<% }); %>
		</ul>
		<% } else { %>
		<span> 게시물이 존재하지 않습니다.</span>
		<% } %>
	</div>	
	
	<div class="endbox">
		<a href="/qa"><h2>Q&A</h2></a>
		<% const Qa_Contents = Contents.filter( content => content.content_type === 'qa' ) %>
		<% if ( Qa_Contents.length){%>
		<ul>
			<% Qa_Contents.forEach( content => { %>
				<li>
					<div class="main_contents_list_box">
						<div><a class="user_href" href="/user/<%= content.user_id %>"><%= content.nickname %></a><span><b>&nbsp;·&nbsp;</b></span><%= content.create_at %></div>
						<div class="list_title_box">
							<div><a href="/<%= content.content_type%>/<%= content.id%>?pagetype=qa"><%= content.title %></a></div>
							<div class="post_list_info">  
								<img src="public/img/comment-icon.png" width="13px" style="object-fit:contain;">&nbsp;<%= content.comment_count ? content.comment_count : 0 %>
								&nbsp;<span><b>·</b></span>&nbsp;
								<img src="public/img/eye-icon.png" width="13px" style="object-fit:contain;">&nbsp;<%= content.view_count %>
							</div>
						</div>
					</div>
				</li>
			<% }); %>
		</ul>
		<% } else { %>
			<span> 게시물이 존재하지 않습니다.</span>
		<% } %>
	</div>

	<div class="endbox">
		<a href="/life"><h2>생활</h2></a>
		<% const Life_Contents = Contents.filter( content => content.content_type === 'life' ) %>
		<% if ( Life_Contents.length){%>
		<ul>
			<% Life_Contents.forEach( content => { %>
				<li>
					<div class="main_contents_list_box">
						<div><a class="user_href" href="/user/<%= content.user_id %>"><%= content.nickname %></a><span><b>&nbsp;·&nbsp;</b></span><%= content.create_at %></div>
						<div class="list_title_box">
							<div><a href="/<%= content.content_type%>/<%= content.id%>?pagetype=life"><%= content.title %></a></div>
							<div class="post_list_info">  
								<img src="public/img/comment-icon.png" width="13px" style="object-fit:contain;">&nbsp;<%= content.comment_count ? content.comment_count : 0 %>
								&nbsp;<span><b>·</b></span>&nbsp;
								<img src="public/img/eye-icon.png" width="13px" style="object-fit:contain;">&nbsp;<%= content.view_count %>
							</div>
						</div>
					</div>
				</li>
			<% }); %>
		</ul>
		<% } else { %>
			<span> 게시물이 존재하지 않습니다.</span>
		<% } %>
	</div>
</div>
<div class="sidebox">
	<div class="weather_info_box" id="moving_div">
		기상날씨
		<div class="weather_info" id="weather_box"></div>
	</div>
</div>

<script src="/public/js/forum_main.js"></script>
